<?xml version="1.0" encoding="UTF-8"?>

<!--

    This Source Code Form is subject to the terms of the Mozilla Public License,
    v. 2.0. If a copy of the MPL was not distributed with this file, You can
    obtain one at http://mozilla.org/MPL/2.0/. OpenMRS is also distributed under
    the terms of the Healthcare Disclaimer located at http://openmrs.org/license.

    Copyright (C) OpenMRS Inc. OpenMRS is a registered trademark and the OpenMRS
    graphic logo is a trademark of OpenMRS Inc.

-->

<eh:config
	xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
	xmlns:eh='http://www.ehcache.org/v3'
	xmlns:jsr107='http://www.ehcache.org/v3/jsr107'
	xsi:schemaLocation="
        http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.10.xsd
        http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.10.xsd">

	<eh:persistence directory="spring-boot-ehcache/cache" />
	
	<eh:cache alias="userSearchLocales">
		<eh:expiry>
			<eh:ttl unit="seconds">300</eh:ttl>
		</eh:expiry>
		<eh:heap unit="entries">500</eh:heap>
	</eh:cache>
	
	<eh:cache alias="conceptIdsByMapping">
		<eh:resources>
			<eh:heap unit="entries">10000</eh:heap>
			<eh:disk unit="MB" persistent="false">1000</eh:disk>
		</eh:resources>
	</eh:cache>

<!--	<ehcache name="apiCache">-->
<!--	-->
<!--		<diskStore path="java.io.tmpdir"/>-->
<!--	-->
<!--		<defaultCache-->
<!--				maxElementsInMemory="1000"-->
<!--				eternal="false"-->
<!--				timeToIdleSeconds="120"-->
<!--				timeToLiveSeconds="120"-->
<!--				maxElementsOnDisk="1000000"-->
<!--				diskExpiryThreadIntervalSeconds="120"-->
<!--				memoryStoreEvictionPolicy="LRU">-->
<!--			<persistence strategy="localTempSwap"/>-->
<!--		</defaultCache>-->
<!--	-->
<!--		<cache name="conceptIdsByMapping"-->
<!--			   maxElementsInMemory="10000"-->
<!--			   eternal="true"-->
<!--			   memoryStoreEvictionPolicy="LRU">-->
<!--			<persistence strategy="localTempSwap"/>-->
<!--		</cache>-->
<!--	-->
<!--	</ehcache>-->
</eh:config>
