<?xml version="1.0" encoding="UTF-8"?>

<!--

    This Source Code Form is subject to the terms of the Mozilla Public License,
    v. 2.0. If a copy of the MPL was not distributed with this file, You can
    obtain one at http://mozilla.org/MPL/2.0/. OpenMRS is also distributed under
    the terms of the Healthcare Disclaimer located at http://openmrs.org/license.

    Copyright (C) OpenMRS Inc. OpenMRS is a registered trademark and the OpenMRS
    graphic logo is a trademark of OpenMRS Inc.

-->

<persistence xmlns="https://jakarta.ee/xml/ns/persistence"
			 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
			 xsi:schemaLocation="https://jakarta.ee/xml/ns/persistence
                                 https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd"
			 version="3.0">

	<persistence-unit name="openmrsPU" transaction-type="RESOURCE_LOCAL">
		<provider>org.hibernate.jpa.HibernatePersistenceProvider</provider>

		<non-jta-data-source>openmrsDataSource</non-jta-data-source>
		
		<mapping-file>org/openmrs/api/db/hibernate/AllergyReaction.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/Concept.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptAnswer.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptAttribute.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptAttributeType.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptDescription.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptName.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptNameTag.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptClass.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptDatatype.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptProposal.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptStateConversion.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptSet.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptMap.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptStopWord.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptSource.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptReferenceTerm.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ConceptReferenceTermMap.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/DiagnosisAttribute.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/DiagnosisAttributeType.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/Drug.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/Field.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/FieldType.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/Form.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/FormField.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/FormResource.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/GlobalProperty.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/Obs.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/Person.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/PersonAttribute.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/PersonMergeLog.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/PersonName.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/LoginCredential.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/Privilege.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/Role.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/Patient.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/PatientIdentifier.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/PatientProgram.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/PatientProgramAttribute.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/RelationshipType.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/Order.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/OrderAttribute.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/OrderAttributeType.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/OrderSet.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/OrderSetMember.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/OrderSetAttributeType.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/OrderSetAttribute.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/OrderGroup.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/OrderGroupAttribute.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/OrderGroupAttributeType.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/CareSetting.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/LocationTag.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/LocationAttribute.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/EncounterType.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/EncounterProvider.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/EncounterRole.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/Program.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ProgramWorkflow.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ProgramWorkflowState.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/Cohort.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/CohortMembership.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/OrderFrequency.hbm.xml</mapping-file>

		<!-- HL7 -->
		<mapping-file>org/openmrs/hl7/db/hibernate/HL7Source.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/hl7/db/hibernate/HL7InQueue.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/hl7/db/hibernate/HL7InArchive.hbm.xml</mapping-file>

		<!-- Notification -->
		<mapping-file>org/openmrs/notification/db/hibernate/Template.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/notification/db/hibernate/Alert.hbm.xml</mapping-file>

		<!-- Scheduler -->
		<mapping-file>org/openmrs/scheduler/db/hibernate/TaskDefinition.hbm.xml</mapping-file>

		<!-- Visit -->
		<mapping-file>org/openmrs/api/db/hibernate/VisitType.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/VisitAttribute.hbm.xml</mapping-file>

		<!-- Provider -->
		<mapping-file>org/openmrs/api/db/hibernate/Provider.hbm.xml</mapping-file>
		<mapping-file>org/openmrs/api/db/hibernate/ProviderAttribute.hbm.xml</mapping-file>

		<mapping-file>org/openmrs/api/db/hibernate/ClobDatatypeStorage.hbm.xml</mapping-file>
		
		<properties>
			<!-- dialect, caching, search, etc. -->
			<property name="jakarta.persistence.validation.mode" value="none"/>
			<property name="hibernate.dialect" value="org.hibernate.dialect.MySQL57Dialect"/>
			<property name="hibernate.search.backend.analysis.configurer" value="org.openmrs.api.db.hibernate.search.LuceneAnalyzerFactory"/>
			<property name="hibernate.search.backend.directory.root"
					  value="${APPLICATION_DATA_DIRECTORY}/lucene/indexes"/>
		</properties>
	</persistence-unit>
</persistence>
